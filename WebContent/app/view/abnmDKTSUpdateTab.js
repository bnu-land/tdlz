/*
 * File: app/view/abnmDKTSUpdateTab.js
 *
 * This file was generated by Sencha Architect version 3.1.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.abnmDKTSUpdateTab', {
    extend: 'Ext.panel.Panel',

    requires: [
        'Ext.form.Panel',
        'Ext.form.field.Text',
        'Ext.form.field.Display',
        'Ext.button.Button',
        'Ext.grid.Panel',
        'Ext.grid.RowNumberer',
        'Ext.grid.View',
        'Ext.selection.CheckboxModel',
        'Ext.toolbar.Toolbar',
        'Ext.form.Label'
    ],

    id: 'abnmDKTSUpdateTab',
    autoScroll: true,
    title: '地块信息更新页面- 可删除',

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'form',
                    height: 600,
                    layout: 'absolute',
                    bodyPadding: 10,
                    items: [
                        {
                            xtype: 'textfield',
                            x: 10,
                            y: 70,
                            id: 'tbbh1',
                            fieldLabel: '图斑编号',
                            labelWidth: 80,
                            name: 'tbbh'
                        },
                        {
                            xtype: 'textfield',
                            x: 10,
                            y: 130,
                            id: 'abdkSeller1',
                            fieldLabel: '转让方',
                            labelWidth: 80,
                            name: 'abdkSeller'
                        },
                        {
                            xtype: 'textfield',
                            x: 10,
                            y: 160,
                            id: 'abdkBx1',
                            fieldLabel: '交易前中心点坐标X',
                            labelWidth: 80,
                            name: 'abdkBx'
                        },
                        {
                            xtype: 'textfield',
                            x: 10,
                            y: 220,
                            id: 'abdkBprice1',
                            fieldLabel: '交易前地块价格',
                            labelWidth: 80,
                            name: 'abdkBprice'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 160,
                            id: 'abdkAx1',
                            fieldLabel: '交易后中心点坐标X',
                            labelWidth: 80,
                            name: 'abdkAx'
                        },
                        {
                            xtype: 'textfield',
                            x: 10,
                            y: 260,
                            id: 'dgcl1',
                            fieldLabel: '稻谷产量',
                            labelWidth: 80,
                            name: 'dgcl'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 260,
                            id: 'abdkAarea1',
                            fieldLabel: '交易后地块面积',
                            labelWidth: 80,
                            name: 'abdkAarea'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 70,
                            id: 'tbmj1',
                            fieldLabel: '图斑面积',
                            labelWidth: 80,
                            name: 'tbmj'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 40,
                            id: 'xzqdm1',
                            fieldLabel: '所属行政区',
                            labelWidth: 80,
                            name: 'xzqdm'
                        },
                        {
                            xtype: 'textfield',
                            x: 10,
                            y: 40,
                            id: 'xmbh1',
                            fieldLabel: '所属项目编号',
                            labelWidth: 80,
                            name: 'xmbh'
                        },
                        {
                            xtype: 'textfield',
                            x: 10,
                            y: 100,
                            id: 'abdkSlope1',
                            fieldLabel: '坡地',
                            labelWidth: 80,
                            name: 'abdkSlope'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 100,
                            id: 'abdkSlopevariance1',
                            fieldLabel: '坡度方差',
                            labelWidth: 80,
                            name: 'abdkSlopevariance'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 130,
                            id: 'abdkBuyer1',
                            fieldLabel: '买入方',
                            labelWidth: 80,
                            name: 'abdkBuyer'
                        },
                        {
                            xtype: 'textfield',
                            x: 10,
                            y: 190,
                            id: 'abdkBy1',
                            fieldLabel: '交易前中心点坐标Y',
                            labelWidth: 80,
                            name: 'abdkBy'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 220,
                            id: 'abdkAprice1',
                            fieldLabel: '交易后地块价格',
                            labelWidth: 80,
                            name: 'abdkAprice'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 190,
                            id: 'abdkAy1',
                            fieldLabel: '交易后中心点坐标Y',
                            labelWidth: 80,
                            name: 'abdkAy'
                        },
                        {
                            xtype: 'textfield',
                            x: 10,
                            y: 290,
                            id: 'dgjj1',
                            fieldLabel: '稻谷均价',
                            labelWidth: 80,
                            name: 'dgjj'
                        },
                        {
                            xtype: 'displayfield',
                            x: 10,
                            y: 10,
                            id: 'abdkIsnormal',
                            fieldLabel: '是否异常',
                            labelWidth: 80,
                            name: 'abdkIsnormal'
                        },
                        {
                            xtype: 'displayfield',
                            x: 300,
                            y: 10,
                            id: 'abdkRisklevel',
                            fieldLabel: '风险等级',
                            labelWidth: 80,
                            name: 'abdkRisklevel'
                        },
                        {
                            xtype: 'displayfield',
                            x: 300,
                            y: 290,
                            id: 'abdkWarningtime',
                            fieldLabel: '预警时间',
                            labelWidth: 80,
                            name: 'abdkWarningtime'
                        },
                        {
                            xtype: 'displayfield',
                            x: 100,
                            y: 570,
                            id: 'abdkWarningtime1',
                            fieldLabel: '文件下载',
                            labelWidth: 80,
                            name: 'abdkWarningtime'
                        },
                        {
                            xtype: 'button',
                            handler: function(button, event) {

                            },
                            x: 90,
                            y: 530,
                            width: 100,
                            text: '确定'
                        },
                        {
                            xtype: 'button',
                            handler: function(button, event) {
                                win.close();
                            },
                            x: 310,
                            y: 530,
                            width: 90,
                            text: '取消'
                        },
                        {
                            xtype: 'gridpanel',
                            x: 10,
                            y: 320,
                            height: 200,
                            id: 'abnmIndexGrid1',
                            collapsible: false,
                            title: '预警参数设置',
                            forceFit: true,
                            store: 'abnmIndexStore',
                            columns: [
                                {
                                    xtype: 'rownumberer',
                                    width: 47,
                                    text: '记录号'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'abiClass',
                                    text: '指标类别'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'abiName',
                                    text: '指标名称',
                                    tooltip: ''
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'abiValue',
                                    text: '指标值'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    dataIndex: 'abiWeight',
                                    text: '指标权重'
                                }
                            ],
                            selModel: Ext.create('Ext.selection.CheckboxModel', {

                            }),
                            dockedItems: [
                                {
                                    xtype: 'toolbar',
                                    dock: 'top',
                                    frame: false,
                                    enableOverflow: true,
                                    items: [
                                        {
                                            xtype: 'button',
                                            handler: function(button, event) {

                                            },
                                            icon: 'images/file_view0.png',
                                            text: '增加指标'
                                        },
                                        {
                                            xtype: 'button',
                                            handler: function(button, event) {
                                                var grid = Ext.getCmp('abnmDkTransSupervisionGrid');
                                                //var gird = this.down('grid');
                                                var record = grid.getSelectionModel().getSelection();

                                                if(record.length === 0){
                                                    Ext.Msg.alert('提示','请先选择您要操作的行！');
                                                    return;

                                                }else{

                                                    var  ids =new Array(record.length);
                                                    for(var i = 0;i<record.length;i++){
                                                        ids[i] = record[i].get("abdkId");

                                                    }
                                                    //Ext.Msg.alert('提示',ids);



                                                    Ext.Ajax.request({
                                                        url:'delete_abdkByIds',
                                                        params:{ids:ids},
                                                        success:function(response){
                                                            Ext.Msg.alert('success','删除成功');
                                                            var mystore = Ext.StoreMgr.get('abnmDkTransSupervisionStore');
                                                            mystore.load();
                                                        },
                                                        failure:function(response){
                                                            Ext.Msg.alert('failure','删除失败');
                                                        }

                                                    });

                                                }
                                            },
                                            icon: 'images/file_view0.png',
                                            text: '删除指标'
                                        },
                                        {
                                            xtype: 'button',
                                            handler: function(button, event) {

                                            },
                                            icon: 'images/file_view0.png',
                                            text: '修改指标'
                                        }
                                    ]
                                },
                                {
                                    xtype: 'toolbar',
                                    dock: 'bottom',
                                    frame: false,
                                    enableOverflow: true,
                                    items: [
                                        {
                                            xtype: 'button',
                                            handler: function(button, event) {

                                            },
                                            icon: 'images/file_view0.png',
                                            text: '确定'
                                        },
                                        {
                                            xtype: 'button',
                                            handler: function(button, event) {

                                            },
                                            icon: 'images/file_view0.png',
                                            text: '取消'
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'label',
                            x: 323,
                            y: 576,
                            html: '<a href="http://www.w3school.com.cn"></a>',
                            text: 'My Label'
                        }
                    ]
                }
            ]
        });

        me.callParent(arguments);
    }

});