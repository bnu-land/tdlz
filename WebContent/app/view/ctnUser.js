/*
 * File: app/view/ctnUser.js
 *
 * This file was generated by Sencha Architect version 2.2.2.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.ctnUser', {
    extend: 'Ext.container.Container',
    alias: 'widget.ctnuser11',
    
    id: 'ctnUser',
    layout: {
        type: 'card'
    },

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'form',
                    id: 'fpnlModFarmer',
                    layout: {
                        type: 'absolute'
                    },
                    bodyPadding: 10,
                    title: '修改个人信息',
                    items: [
                        {
                            xtype: 'label',
                            x: 390,
                            y: 30,
                            id: 'lblITitleFarmerMod',
                            style: {
                                fontSize: '15px'
                            },
                            width: 260,
                            text: '请修改您的用户信息（*为必填）：'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 80,
                            frame: false,
                            id: 'tfUsernameFarmerMod',
                            width: 350,
                            fieldLabel: '* 用户名',
                            labelAlign: 'right',
                            labelWidth: 80,
                            allowBlank: false,
                            blankText: '不能为空',
                            value: name,
                            emptyText: '请填写您的用户名'
                           
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 130,
                            frame: false,
                            id: 'tfFarmernameFarmerMod',
                            width: 350,
                            fieldLabel: '* 姓名',
                            labelAlign: 'right',
                            labelWidth: 80,
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '请填写您的真实姓名'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 180,
                            id: 'tfUserIdFarmerMod',
                            width: 350,
                            fieldLabel: '* 身份证号码',
                            labelAlign: 'right',
                            labelWidth: 80,
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '请填写您的身份证号码'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 230,
                            id: 'tfMobilephoneFarmerMod',
                            width: 350,
                            fieldLabel: '*  联系电话',
                            labelAlign: 'right',
                            labelWidth: 80,
                            inputType: 'tel',
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '请填写您的常用电话号码'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 280,
                            id: 'tfAdressFarmerMod',
                            width: 350,
                            fieldLabel: '*  常住地址',
                            labelAlign: 'right',
                            labelWidth: 80,
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '请填写您的常住地址'
                        },
                        {
                            xtype: 'radiogroup',
                            x: 340,
                            y: 320,
                            frame: false,
                            height: 20,
                            id: 'rgSexFarmerMod',
                            width: 250,
                            fieldLabel: '* 性别',
                            allowBlank: false,
                            blankText: '请选择您的性别',
                            items: [
                                {
                                    xtype: 'radiofield',
                                    id: 'rMaleFarmerMod',
                                    name: 'rSex',
                                    boxLabel: '男'
                                },
                                {
                                    xtype: 'radiofield',
                                    id: 'rFemaleFarmerMod',
                                    name: 'rSex',
                                    boxLabel: '女'
                                }
                            ]
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 360,
                            id: 'tfPasswordFarmerMod',
                            width: 350,
                            fieldLabel: '*  密码',
                            labelAlign: 'right',
                            labelWidth: 80,
                            inputType: 'password',
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '密码为6~20个字符，可由英文、符号及数字组成'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 410,
                            id: 'tfRePasswordFarmerMod',
                            width: 350,
                            fieldLabel: '*  确认密码',
                            labelAlign: 'right',
                            labelWidth: 80,
                            inputType: 'password',
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '请再次输入密码'
                        },
                        {
                            xtype: 'textfield',
                            id: 'farmerID',
                            hidden: true
                        },
                        {
                            xtype: 'button',
                            x: 400,
                            y: 460,
                            height: 25,
                            id: 'btnRegisterFarmerMod',
                            width: 80,
                            text: '保存',
                            handler: function ()
                                {           
                            	    var Userid = Ext.getCmp("farmerID").getValue();
                                	var Username = Ext.getCmp("tfUsernameFarmerMod").getValue();
                                	var Farmername = Ext.getCmp("tfFarmernameFarmerMod").getValue();
                                	var Idnumber=Ext.getCmp("tfUserIdFarmerMod").getValue();
                                	var Phone=Ext.getCmp("tfMobilephoneFarmerMod").getValue();
                                	var Address=Ext.getCmp("tfAdressFarmerMod").getValue(); 
                                	var Sex;
                                	// 单选判断
                            		if(Ext.getCmp("rMaleFarmerMod").getValue()) {                            			
                            			Sex="男";
                            			}                            		
                            		if(Ext.getCmp("rFemaleFarmerMod").getValue()) {
                            			Sex="女";
                            			}
                            		var Permission="农户";  
                                	var Password = Ext.getCmp("tfPasswordFarmerMod").getValue();  
                                	
                                	Ext.Ajax.request({
                                        //设置提交的地址  
                                        url:'updateFarmersInformation.action',  
                                        //设置提交的方式为post  
                                        
                                        params : {
                                        	uid: "" + Userid + "",
                            				username : "" + Username + "",
                            				farmername : "" + Farmername + "",
                            				idnumber : "" + Idnumber + "",
                            				phone : "" + Phone + "", 
                            				address : "" + Address + "",
                            				sex : "" + Sex + "",
                            				permission:""+ Permission+"",
                            				password : "" + Password + "",                          				                         	
                                        },
                                        method: 'post',
                                        //网络成功返回  
                                        success: function(form, action) {  
                                        	Ext.Msg.show({
                                        	    title: '修改信息',
                                        	    msg: '农户信息修改成功',
                                        	    width: 300,
                                        	    buttons: Ext.Msg.OK,
                                        	    icon: Ext.window.MessageBox.INFO
                                        	});                                          
                                        },  
                                       //网络失败返回  
                                        failure: function(form, action) {  
                                        alert("出错了！");
                                        } 
                                    });                                   	
                                }	                        
                        },
                        {
                            xtype: 'button',
                            handler: function(button, event) {
                                Ext.getCmp("fpnlRegister").form.reset();
                            },
                            x: 550,
                            y: 460,
                            height: 25,
                            id: 'btnResetFarmerMod',
                            width: 80,
                            text: '重 置'
                        }
                    ]
                },
                
                //修改业主用户单位
                {
                    xtype: 'form',
                    id: 'fpnlModOwner',
                    layout: {
                        type: 'absolute'
                    },
                    bodyPadding: 10,
                    title: '修改个人信息',
                    items: [
                        {
                            xtype: 'label',
                            x: 390,
                            y: 30,
                            id: 'lblITitleOwnerMod',
                            style: {
                                fontSize: '15px'
                            },
                            width: 260,
                            text: '请修改您的用户信息（*为必填）：'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 80,
                            frame: false,
                            id: 'tfUsernameOwnerMod',
                            width: 350,
                            fieldLabel: '* 用户名',
                            labelAlign: 'right',
                            labelWidth: 80,
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '请填写您的用户名'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 130,
                            id: 'tfMobilephoneOwnerMod',
                            width: 350,
                            fieldLabel: '*  联系电话',
                            labelAlign: 'right',
                            labelWidth: 80,
                            inputType: 'tel',
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '请填写您的常用电话号码'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 180,
                            id: 'tfEmailOwnerMod',
                            width: 350,
                            fieldLabel: ' * 电子邮箱',
                            labelAlign: 'right',
                            labelWidth: 80,
                            inputType: 'email',
                            emptyText: '请填写您的电子邮箱地址'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 230,
                            id: 'tfLevelOwnerMod',
                            width: 350,
                            fieldLabel: '* 级别',
                            labelAlign: 'right',
                            labelWidth: 80,
                            emptyText: '请填写您的级别'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 280,
                            id: 'tfDepartmentOwnerMod',
                            width: 350,
                            fieldLabel: '* 部门',
                            labelAlign: 'right',
                            labelWidth: 80,
                            allowBlank: false,
                            emptyText: '请填写您的部门名称'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 330,
                            id: 'tfPasswordOwnerMod',
                            width: 350,
                            fieldLabel: '*  密码',
                            labelAlign: 'right',
                            labelWidth: 80,
                            inputType: 'password',
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '密码为6~20个字符，可由英文、符号及数字组成'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 380,
                            id: 'tfRePasswordOwnerMod',
                            width: 350,
                            fieldLabel: '*  确认密码',
                            labelAlign: 'right',
                            labelWidth: 80,
                            inputType: 'password',
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '请再次输入密码'
                        },                        
                        {
                            xtype: 'textfield',
                            id: 'ownerID',
                            hidden: true
                        },
                        {
                            xtype: 'button',
                            x: 400,
                            y: 430,
                            height: 25,
                            id: 'btnRegisterOwnerMod',
                            width: 80,
                            text: '保存',
                            handler: function ()
                            {           
                        	    var Userid = Ext.getCmp("ownerID").getValue();
                            	var Username = Ext.getCmp("tfUsernameOwnerMod").getValue();
                            	var Phone = Ext.getCmp("tfMobilephoneOwnerMod").getValue();
                            	var Email = Ext.getCmp("tfEmailOwnerMod").getValue();
                            	var Level = Ext.getCmp("tfLevelOwnerMod").getValue(); 
                            	var Department = Ext.getCmp("tfDepartmentOwnerMod").getValue(); 
                            	var Permission = "业主单位"; 
                            	var Password = Ext.getCmp("tfPasswordOwnerMod").getValue();                      	                                       	
                        		
                            	Ext.Ajax.request({
                                    //设置提交的地址  
                                    url:'updateOwnersUnit.action',  
                                    //设置提交的方式为post  
                                    
                                    params : {
                                    	uid: "" + Userid + "",
                        				username : "" + Username + "",
                        				phone : "" + Phone + "",       
                        				email : "" + Email + "",
                        				level : "" + Level + "",
                        				department : "" + Department + "",
                        				permission: "" + Permission + "",
                        				password : "" + Password + "",    
                        			},
                                    method: 'post',
                                    //网络成功返回  
                                    success: function(form, action) {  
                                    	Ext.Msg.show({
                                    	    title: '修改信息',
                                    	    msg: '业主单位信息修改成功',
                                    	    width: 300,
                                    	    buttons: Ext.Msg.OK,
                                    	    icon: Ext.window.MessageBox.INFO
                                    	});                                          
                                    },  
                                   //网络失败返回  
                                    failure: function(form, action) {  
                                    alert("出错了！");
                                    } 
                                });                              	
                            }
                        },
                        {
                            xtype: 'button',
                            handler: function(button, event) {
                                Ext.getCmp("fpnlRegister").form.reset();
                            },
                            x: 550,
                            y: 430,
                            height: 25,
                            id: 'btnResetOwnerMod',
                            width: 80,
                            text: '重 填'
                        }
                    ]
                },
                //修改行政管理部门
                {
                    xtype: 'form',
                    id: 'fpnlModAdmin',
                    layout: {
                        type: 'absolute'
                    },
                    bodyPadding: 10,
                    title: '修改个人信息',
                    items: [
                        {
                            xtype: 'label',
                            x: 390,
                            y: 30,
                            id: 'lblITitleAdminMod',
                            style: {
                                fontSize: '15px'
                            },
                            width: 260,
                            text: '请修改您的用户信息（*为必填）：'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 80,
                            frame: false,
                            id: 'tfUsernameAdminMod',
                            width: 350,
                            fieldLabel: '* 用户名',
                            labelAlign: 'right',
                            labelWidth: 80,
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '请填写您的用户名'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 130,
                            id: 'tfMobilephoneAdminMod',
                            width: 350,
                            fieldLabel: '*  联系电话',
                            labelAlign: 'right',
                            labelWidth: 80,
                            inputType: 'tel',
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '请填写您的常用电话号码'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 180,
                            id: 'tfEmailAdminMod',
                            width: 350,
                            fieldLabel: ' * 电子邮箱',
                            labelAlign: 'right',
                            labelWidth: 80,
                            inputType: 'email',
                            emptyText: '请填写您的电子邮箱地址'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 230,
                            id: 'tfLevelAdminMod',
                            width: 350,
                            fieldLabel: '* 级别',
                            labelAlign: 'right',
                            labelWidth: 80,
                            emptyText: '请填写您的级别'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 280,
                            id: 'tfDepartmentAdminMod',
                            width: 350,
                            fieldLabel: '* 部门',
                            labelAlign: 'right',
                            labelWidth: 80,
                            allowBlank: false,
                            emptyText: '请填写您的部门名称'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 330,
                            id: 'tfPasswordAdminMod',
                            width: 350,
                            fieldLabel: '*  密码',
                            labelAlign: 'right',
                            labelWidth: 80,
                            inputType: 'password',
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '密码为6~20个字符，可由英文、符号及数字组成'
                        },
                        {
                            xtype: 'textfield',
                            x: 300,
                            y: 380,
                            id: 'tfRePasswordAdminMod',
                            width: 350,
                            fieldLabel: '*  确认密码',
                            labelAlign: 'right',
                            labelWidth: 80,
                            inputType: 'password',
                            allowBlank: false,
                            blankText: '不能为空',
                            emptyText: '请再次输入密码'
                        },       
                        {
                            xtype: 'textfield',
                            id: 'adminID',
                            hidden: true
                        },
                        {
                            xtype: 'button',
                            x: 400,
                            y: 430,
                            height: 25,
                            id: 'btnRegisterAdminMod',
                            width: 80,
                            text: '保存',
                            handler: function ()
                            {           
                        	    var Userid = Ext.getCmp("adminID").getValue();
                            	var Username = Ext.getCmp("tfUsernameAdminMod").getValue();
                            	var Phone = Ext.getCmp("tfMobilephoneAdminMod").getValue();
                            	var Email = Ext.getCmp("tfEmailAdminMod").getValue();
                            	var Level = Ext.getCmp("tfLevelAdminMod").getValue(); 
                            	var Department = Ext.getCmp("tfDepartmentAdminMod").getValue(); 
                            	var Permission = "行政管理单位"; 
                            	var Password = Ext.getCmp("tfPasswordAdminMod").getValue();                      	                                       	
                        		
                            	Ext.Ajax.request({
                                    //设置提交的地址  
                                    url:'updateAdministrationUnit.action',  
                                    //设置提交的方式为post  
                                    
                                    params : {
                                    	uid: "" + Userid + "",
                        				username : "" + Username + "",
                        				phone : "" + Phone + "",       
                        				email : "" + Email + "",
                        				level : "" + Level + "",
                        				department : "" + Department + "",
                        				permission: "" + Permission + "",
                        				password : "" + Password + "",    
                        			},
                                    method: 'post',
                                    //网络成功返回  
                                    success: function(form, action) {  
                                    	Ext.Msg.show({
                                    	    title: '修改信息',
                                    	    msg: '行政管理单位信息修改成功',
                                    	    width: 300,
                                    	    buttons: Ext.Msg.OK,
                                    	    icon: Ext.window.MessageBox.INFO
                                    	});                                          
                                    },  
                                   //网络失败返回  
                                    failure: function(form, action) {  
                                    alert("出错了！");
                                    } 
                                });                              	
                            }
                        },
                        {
                            xtype: 'button',
                            handler: function(button, event) {
                                Ext.getCmp("fpnlRegister").form.reset();
                            },
                            x: 550,
                            y: 430,
                            height: 25,
                            id: 'btnResetAdminMod',
                            width: 80,
                            text: '重 填'
                        }
                    ]
                },
                {
                    xtype: 'panel',
                    id: 'pnlUserControl',
                    width: 150,
                    layout: {
                        type: 'fit'
                    },
                    title: '用户管理',
                    items: [
                        {
                            xtype: 'gridpanel',
                            frame: true,
                            id: 'gpUserControl',
                            width: 1032,
                            store: 'storeUserControl',
                            viewConfig: {
                                id: 'gridviewUser'
                            },
                            columns: [
                              
                                {
                                    xtype: 'gridcolumn',
                                    id: 'clnUsername',
                                    dataIndex: 'username',
                                    text: '用户名'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    id: 'clnPassword',
                                    dataIndex: 'password',
                                    text: '密码'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    id: 'clnPhone',
                                    width: 150,
                                    dataIndex: 'phone',
                                    text: '联系电话'
                                },
                                {
                                    xtype: 'gridcolumn',
                                    id: 'clnPermission',
                                    width:150,
                                    dataIndex: 'permission',
                                    text: '权限'
                                },
                                {
                                    xtype: 'actioncolumn',
                                    id: 'acUserDetail',
                                    width: 87,
                                    align: 'center',
                                    menuText: '详细信息',
                                    altText: '详细信息',
                                    items: [
                                        {
                                            handler: function(view, rowIndex, colIndex, item, e, record, row) {
                                                //农户
                                            	if(record.get("permission")=="农户"){                                            	
                                                var winDetailFarmer = new Ext.Window(
                                                {      
                                                	 title: "农户详细信息",    
                                                     width:350,    
                                                     height: 255,   
                                                     modal: true,
                                                     closable:true,   
                                                     items: [{
                                                         xtype: "form",
                                                         id: "frmDetailFarmer",
                                                         height: "255",
                                                         borderStyle: "padding-top:3px",
                                                         frame: true,
                                                         defaultType: "textfield",
                                                         labelAlign: "right",
                                                         labelWidth: 60,
                                                         defaults:
                                                         {
                                                             allowBlank: false, width: 300
                                                         },
                                                         items: [
                                                         { fieldLabel: "用户名", id: "Username"},
                                                         { fieldLabel: "姓名", id: "Farmername"},
                                                         { fieldLabel: "密码", id: "Password"},
                                                         { fieldLabel: "联系电话", id: "Phone"},              
                                                         { fieldLabel: "权限", id: "Permission"},
                                                         { fieldLabel: "性别", id: "Sex"},                
                                                         { fieldLabel: "身份证号码", id: "IDnumber"},          
                                                         { fieldLabel: "常住地址", id: "Address"}
                                                         ]
                                                     }]                                                    
                                                });
                                                winDetailFarmer.show();
                                                Ext.getCmp("Username").setValue(record.get("username"));
                                                Ext.getCmp("Farmername").setValue(record.get("farmername"));
                                            	Ext.getCmp("Password").setValue(record.get("password"));
                                            	Ext.getCmp("Phone").setValue(record.get("phone"));
                                            	Ext.getCmp("Permission").setValue(record.get("permission"));
                                            	Ext.getCmp("Sex").setValue(record.get("sex"));
                                            	Ext.getCmp("IDnumber").setValue(record.get("idnumber"));
                                            	Ext.getCmp("Address").setValue(record.get("address"));
                                            	}
                                            	
                                                //业主单位单位
                                            	if(record.get("permission")=="业主单位"){
                                                var winDetailOwner = new Ext.Window(
                                                {      
                                                title: "业主单位用户详细信息",    
                                                width:350,    
                                                height: 230,   
                                                modal: true,
                                                closable:true,   
                                                items: [{
                                                xtype: "form",
                                                id: "frmDetailOwner",
                                                height: "230",
                                                borderStyle: "padding-top:3px",
                                                frame: true,
                                                defaultType: "textfield",
                                                labelAlign: "right",
                                                labelWidth: 60,
                                                defaults: {
                                                allowBlank: false, width: 300
                                                },
                                                items: [
                                                { fieldLabel: "用户名", id: "Username"},
                                                { fieldLabel: "密码", id: "Password"},
                                                { fieldLabel: "联系电话", id: "Phone"},              
                                                { fieldLabel: "权限", id: "Permission"},                                                             
                                                { fieldLabel: "电子邮箱", id: "Email"}, 
                                                { fieldLabel: "级别", id: "Level"},
                                                { fieldLabel: "部门", id: "Department"}       
                                                ]
                                                }]     
                                                });
                                                winDetailOwner.show();
                                                Ext.getCmp("Username").setValue(record.get("username"));
                                            	Ext.getCmp("Password").setValue(record.get("password"));
                                            	Ext.getCmp("Phone").setValue(record.get("phone"));
                                            	Ext.getCmp("Permission").setValue(record.get("permission"));                                            	
                                            	Ext.getCmp("Email").setValue(record.get("email"));
                                            	Ext.getCmp("Level").setValue(record.get("level"));
                                            	Ext.getCmp("Department").setValue(record.get("department"));
                                            	}
                                                //行政管理单位
                                            	if(record.get("permission")=="行政管理单位"){
                                                var winDetailAdmin = new Ext.Window(
                                                {      
                                                title: "行政管理单位用户详细信息",    
                                                width:350,    
                                                height: 230,   
                                                modal: true,
                                                closable:true,   
                                                items: [{
                                                xtype: "form",
                                                id: "frmDetailAdmin",
                                                height: "230",
                                                borderStyle: "padding-top:3px",
                                                frame: true,
                                                defaultType: "textfield",
                                                labelAlign: "right",
                                                labelWidth: 60,
                                                defaults: {
                                                allowBlank: false, width: 300
                                                },
                                                items: [
                                                { fieldLabel: "用户名", id: "Username"},
                                                { fieldLabel: "密码", id: "Password"},
                                                { fieldLabel: "联系电话", id: "Phone"},              
                                                { fieldLabel: "权限", id: "Permission"},                                                                 
                                                { fieldLabel: "电子邮箱", id: "Email"}, 
                                                { fieldLabel: "级别", id: "Level"},
                                                { fieldLabel: "部门", id: "Department"}       
                                                ]
                                                }]     
                                                });
                                                winDetailAdmin.show();
                                                Ext.getCmp("Username").setValue(record.get("username"));
                                            	Ext.getCmp("Password").setValue(record.get("password"));
                                            	Ext.getCmp("Phone").setValue(record.get("phone"));
                                            	Ext.getCmp("Permission").setValue(record.get("permission"));                                            	
                                            	Ext.getCmp("Email").setValue(record.get("email"));
                                            	Ext.getCmp("Level").setValue(record.get("level"));
                                            	Ext.getCmp("Department").setValue(record.get("department"));
                                            	}
                                            },
                                            icon: 'img/check.png'
                                        }
                                       
                                        ]
                                }
                            ],
                            dockedItems: [
                                {
                                    xtype: 'pagingtoolbar',
                                    dock: 'bottom',
                                    id: 'ptbUserControl',
                                    width: 360,
                                    displayInfo: true,
                                    store: 'storeUserControl',
                                    items: [
                                        {
                                            xtype: 'textfield',                                            
                                            id: 'tfFindUser',
                                            width: 180,
                                            fieldLabel: '       查找条件',
                                            labelWidth: 60
                                        },
                                        {
                                            xtype: 'button',
                                            handler: function(button, event) {

                                            },
                                            id: 'btnFindUser',
                                            text: '查找用户'
                                        },
                                        {
                                            xtype: 'button',
                                            handler: function(button, event) {
                                            	//删除用户          
                                                Ext.Msg.confirm('提示', '确实要删除所选的用户吗?', isOK);
                                                function isOK(id){
                                                	//alert('单击的按钮id是：'+id);
                                                	if (id == 'yes') {
                                                		if (Ext.getCmp("gpUserControl").getSelectionModel().hasSelection())
                                        				{
                                                			//alert("进入selete");
                                        					var records=Ext.getCmp("gpUserControl").getSelectionModel().getSelection();
                                        					for(var i=0;i<records.length;i++){
                                        						var id = records[i].get("id");	  
                                        						  Ext.Ajax.request({
                                        							   url:'deleteUserInformation.action',
                                        							   method:'post',
                                        							   params:{id :"" + id + ""},
                                        							   success:function(){										   		   
                                        								   Ext.Msg.alert("删除成功");
                                        								   Ext.getCmp("gpUserControl").getStore().reload();                                        								 
                                        							   }                                        							   
                                        						  });
                                        					}
                                        				}
                                                	}
                                        									
                                                }  
                                            },
                                            id: 'btnDelUser',
                                            text: '删除用户'
                                        }
                                    ]
                                }
                            ],
                            selModel: Ext.create('Ext.selection.CheckboxModel', {

                            })
                        }
                    ]
                }
            ]
        });

        me.callParent(arguments);
    }

});