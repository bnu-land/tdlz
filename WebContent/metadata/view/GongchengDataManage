{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "GongchengDataManage",
        "designer|userClassName": "GongchengDataManage",
        "layout": "fit",
        "title": "复垦工程质量信息"
    },
    "designerId": "9db2c344-362b-4871-b3d3-d9af10b89d1d",
    "cn": [
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyPadding": 10,
                "height": 140,
                "id": "GongchengDataManageForm",
                "layout": "fit",
                "title": ""
            },
            "name": "MyForm20",
            "designerId": "c6485190-0985-482a-a91e-c95f31efcbcf",
            "cn": [
                {
                    "type": "Ext.grid.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "id": "GongchengDataGrid",
                        "store": "FkYanshouGongchengStore",
                        "title": ""
                    },
                    "name": "MyGridPanel14",
                    "designerId": "b47a8061-974f-40e3-a88f-8a81ac24db45",
                    "cn": [
                        {
                            "type": "Ext.grid.RowNumberer",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "name": "MyRowNumberer11",
                            "designerId": "6a1afbdd-e577-463d-bbcf-18c1988fd163"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "projectId",
                                "text": "项目编号"
                            },
                            "name": "MyColumn74",
                            "designerId": "0fbe14e0-8df2-4a3f-9f34-fac0eba2d649"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "projectName",
                                "text": "项目名称"
                            },
                            "name": "MyColumn75",
                            "designerId": "0c6be242-6f16-4e29-9a83-787f0bea3109"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "area",
                                "text": "项目实际规模"
                            },
                            "name": "MyColumn76",
                            "designerId": "7e5fa5b7-2a6a-4ec8-a216-94fcb788f57a"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "chgc",
                                "text": "拆除工程完成质量描述",
                                "width": 200
                            },
                            "name": "MyColumn77",
                            "designerId": "46f8daca-a292-4653-af2d-aaec00293eea"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "tdpz",
                                "text": "土地平整工程完成质量描述",
                                "width": 200
                            },
                            "name": "MyColumn78",
                            "designerId": "ea9292b5-a7ec-4553-a4f3-40823e3bde30"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "ntsl",
                                "text": "农田水利工程完成质量描述",
                                "width": 200
                            },
                            "name": "MyColumn79",
                            "designerId": "80c7ca9c-0d79-476b-9eaa-44358a26968c"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "tjdl",
                                "text": "田间道路工程完成质量描述",
                                "width": 200
                            },
                            "name": "MyColumn80",
                            "designerId": "7631cd23-8ad2-4167-8816-f6d2638a879d"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "recorder",
                                "text": "采样人"
                            },
                            "name": "MyColumn81",
                            "designerId": "1e7d2660-e4d5-4a60-884c-d14813f7ade0"
                        },
                        {
                            "type": "Ext.grid.View",
                            "reference": {
                                "name": "viewConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyGridView14",
                            "designerId": "669c15d9-1d6e-475a-b566-2bd905b8161c"
                        },
                        {
                            "type": "Ext.toolbar.Toolbar",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": "top"
                            },
                            "name": "MyToolbar18",
                            "designerId": "913703de-db60-4a77-9854-a954dfd25c7e",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "项目编号",
                                        "id": "gongchengSearch",
                                        "layout|flex": null,
                                        "name": "sampleSearch"
                                    },
                                    "name": "MyTextField114",
                                    "designerId": "f8a6fe7e-b74b-4a7e-b204-5a6387c6f9df"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null,
                                        "text": "查询"
                                    },
                                    "name": "MyButton74",
                                    "designerId": "a787a761-c9de-4555-9330-6e29a422ec63",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "event"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var mystore=Ext.StoreMgr.get('FkYanshouGongchengStore');//获得store对象\r",
                                                    "//在load事件中添加参数\r",
                                                    "mystore.load(\r",
                                                    "{params:{\r",
                                                    "    start:\"0\",\r",
                                                    "    limit:\"25\",\r",
                                                    "    searchKeyword:Ext.getCmp('gongchengSearch').getValue()\r",
                                                    "} \r",
                                                    "}\r",
                                                    ");"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "e74f01e5-5ac6-4fce-a409-80473db87e03"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table_add.png",
                                        "layout|flex": null,
                                        "text": "添加"
                                    },
                                    "name": "MyButton75",
                                    "designerId": "bf003773-7005-4288-808f-00d1a59b6a44",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "event"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var tabs = this.up('tabpanel');\r",
                                                    "tabs.removeAll(true);\r",
                                                    "//用tabs.add()新增加一个tab页面,通过Ext.widget(xtype)得到文章回收站的页面\r",
                                                    "var newtab = tabs.add(Ext.widget('gongchengdataAdd'));"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "f4d3646b-f752-433e-8201-014c2f532ca1"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table_edit.png",
                                        "layout|flex": null,
                                        "text": "编辑"
                                    },
                                    "name": "MyButton76",
                                    "designerId": "d0b22c7d-3ff2-4382-89c3-90ea876c5335",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "event"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var grid = Ext.getCmp('GongchengDataGrid');\r",
                                                    "var record = grid.getSelectionModel().getSelection();\r",
                                                    "var projectSelectedId = record[0].get(\"projectId\");\r",
                                                    "if (record.length === 0) {\r",
                                                    "    Ext.Msg.alert('提示', '请先选择您要操作的行！');\r",
                                                    "    return;\r",
                                                    "\r",
                                                    "} else if (record.length > 1) {\r",
                                                    "    Ext.Msg.alert('提示', '只能选择一行数据');\r",
                                                    "    return;\r",
                                                    "} else {\r",
                                                    "    Ext.Msg.alert('提示', projectSelectedId);\r",
                                                    "    var tabs = this.up('tabpanel');\r",
                                                    "    tabs.removeAll(true);\r",
                                                    "    //用tabs.add()新增加一个tab页面,通过Ext.widget(xtype)得到文章回收站的页面\r",
                                                    "    var newtab = tabs.add(Ext.widget('UpdateGongchengdata'));\r",
                                                    "\r",
                                                    "\r",
                                                    "    //先通过id获得文章发表的form表单，然后加载数据，传过去的参数为articleSelectedId，url为get_infoArticleDetail\r",
                                                    "    var UpdateGongchengdataFrom = newtab.getComponent('UpdateGongchengdataFrom'); \r",
                                                    "    UpdateGongchengdataFrom.load({\r",
                                                    "        params: {\r",
                                                    "            projectSelectedId: projectSelectedId\r",
                                                    "        },\r",
                                                    "        url:'get_gongchengDetail',\r",
                                                    "        method:'GET',\r",
                                                    "        success:function(form,action){\r",
                                                    "             \r",
                                                    "        },\r",
                                                    "        failure:function(form,action){\r",
                                                    "            Ext.Msg.alert('提示','数据加载失败');   \r",
                                                    "        }\r",
                                                    "    });     \r",
                                                    "\r",
                                                    "\r",
                                                    "\r",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "399d9d50-aa6f-41f5-9358-b4a1b39dcc21"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/table_delete.png",
                                        "layout|flex": null,
                                        "text": "删除"
                                    },
                                    "name": "MyButton77",
                                    "designerId": "4ab891db-01af-4bb2-9bc9-31fd02aa1a3c",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "event"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var grid = Ext.getCmp('GongchengDataGrid');\r",
                                                    "var record = grid.getSelectionModel().getSelection();\r",
                                                    "if(record.length === 0){\r",
                                                    "    Ext.Msg.alert('提示','请先选择您要操作的行！');    \r",
                                                    "    return;\r",
                                                    "\r",
                                                    "}else{\r",
                                                    "\r",
                                                    "    var  sampleIds =new Array(record.length);\r",
                                                    "    for(var i = 0;i<record.length;i++){\r",
                                                    "        sampleIds[i] = record[i].get(\"projectId\");\r",
                                                    "\r",
                                                    "    }\r",
                                                    "    //Ext.Msg.alert('提示',projectIds);\r",
                                                    "\r",
                                                    "    Ext.Ajax.request({\r",
                                                    "        url:'del_gongchengByIds',\r",
                                                    "        params:{sampleIds:sampleIds},\r",
                                                    "\r",
                                                    "        success:function(response){\r",
                                                    "            Ext.Msg.alert('success','项目工程质量信息已删除');\r",
                                                    "            var mystore = Ext.StoreMgr.get('FkYanshouGongchengStore');\r",
                                                    "            mystore.load();\r",
                                                    "\r",
                                                    "        }\r",
                                                    "\r",
                                                    "    });\r",
                                                    "\r",
                                                    "}"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "da2dd5de-68e5-4193-9d90-bda30fd84832"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "icon": "images/return.png",
                                        "layout|flex": null,
                                        "text": "返回"
                                    },
                                    "name": "MyButton78",
                                    "designerId": "e6667440-f643-4972-be65-5059bc9c1d06",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "button",
                                                    "event"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "var tabs = this.up('tabpanel');\r",
                                                    "tabs.removeAll(true);\r",
                                                    "var newtab = tabs.add(Ext.widget('EvaluateSelectProject'));"
                                                ]
                                            },
                                            "name": "handler",
                                            "designerId": "5e588614-4939-4acd-aff1-050ac66450f4"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.toolbar.Paging",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayInfo": true,
                                "dock": "bottom",
                                "store": "FkYanshouGongchengStore",
                                "width": 360
                            },
                            "name": "MyPagingToolbar9",
                            "designerId": "31a55ce6-71d2-405d-96d3-ef684d77f5d1"
                        },
                        {
                            "type": "Ext.selection.CheckboxModel",
                            "reference": {
                                "name": "selModel",
                                "type": "object"
                            },
                            "codeClass": "Ext.selection.CheckboxModel",
                            "name": "MyCheckboxSelectionModel8",
                            "designerId": "121e4232-19f5-4da4-a7b1-38222de550ac"
                        }
                    ]
                }
            ]
        }
    ]
}